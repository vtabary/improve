"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[587],{6587:(J,p,i)=>{i.r(p),i.d(p,{SoundsModule:()=>B});var c=i(6814),m=i(3920),t=i(9212);let h=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[c.ez]})}return e})();var u=i(3356),y=i(1677);let d=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["improve-themes-home"]],decls:7,vars:0,consts:[["title",""],["content",""],[1,"ui-card-container"],["routerLink","/sounds/list",1,"ui-card-link"]],template:function(s,o){1&s&&(t.TgZ(0,"improve-layout"),t.ynx(1,0),t._uU(2,"Sons"),t.BQk(),t.ynx(3,1),t.TgZ(4,"div",2)(5,"a",3),t._uU(6,"Liste compl\xe8te"),t.qZA()(),t.BQk(),t.qZA())},dependencies:[y.$,u.rH],changeDetection:0})}return e})();var f=i(9995),g=i(6980),C=i(9671);const v=["player"];function _(e,a){if(1&e&&t._UZ(0,"source",3),2&e){const n=a.$implicit;t.Q6J("src",n.url,t.LSH)("type",n.type)}}let T=(()=>{class e{constructor(){this.sources=[],this.sourceChange$=new t.vpe}get sourceChange(){return this.sourceChange$.asObservable()}ngOnChanges(n){n.sources&&this.sourceChange$.emit(this)}play(){var n=this;return(0,C.Z)(function*(){n.player&&(n.player.nativeElement.load(),yield n.player.nativeElement.play())})()}pause(){this.player&&this.player.nativeElement.pause()}reset(){this.player&&(this.player.nativeElement.pause(),this.player.nativeElement.currentTime=0)}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["improve-audio-player"]],viewQuery:function(s,o){if(1&s&&t.Gf(v,5,t.SBq),2&s){let r;t.iGM(r=t.CRH())&&(o.player=r.first)}},inputs:{sources:"sources"},outputs:{sourceChange:"sourceChange"},features:[t.TTD],decls:5,vars:1,consts:[["controls","","loop","",1,"w-full"],["player",""],[3,"src","type",4,"ngFor","ngForOf"],[3,"src","type"]],template:function(s,o){1&s&&(t.TgZ(0,"audio",0,1),t.YNc(2,_,1,2,"source",2),t.TgZ(3,"span"),t._uU(4,"Lecture impossible"),t.qZA()()),2&s&&(t.xp6(2),t.Q6J("ngForOf",o.sources))},dependencies:[c.sg],changeDetection:0})}return e})();function Z(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"span",1),t._uU(2),t.TgZ(3,"button",2),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.play$.emit())}),t._uU(4," Lire "),t.qZA()(),t.TgZ(5,"a",3),t._uU(6,"Source"),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(2),t.hij("",n.item.label," "),t.xp6(3),t.Q6J("href",n.item.source,t.LSH)}}let x=(()=>{class e{constructor(){this.item=null,this.play$=new t.vpe}get askPlay(){return this.play$.asObservable()}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["improve-sounds-item"]],inputs:{item:"item"},outputs:{askPlay:"askPlay"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"font-medium","block","p-2"],["type","button",1,"ui-link",3,"click"],["target","_blank",1,"text-gray-400","block",3,"href"]],template:function(s,o){1&s&&t.YNc(0,Z,7,2,"ng-container",0),2&s&&t.Q6J("ngIf",o.item)},dependencies:[c.O5],styles:["[_nghost-%COMP%]{display:contents}"]})}return e})();function k(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"improve-sounds-item",7),t.NdJ("askPlay",function(){const r=t.CHM(n).item,l=t.oxw();return t.KtG(l.onPlay(r))}),t.qZA()}2&e&&t.Q6J("item",a.item)}const A=()=>["label"],P=[{path:"",component:d},{path:"list",component:(()=>{class e{constructor(n,s){this.sounds=n,this.cdr=s,this.list=[],this.sources=[]}ngOnInit(){this.list=this.sounds.list()}onPlay(n){this.sources=[{url:n.url,type:"audio/mpeg"}],this.cdr.detectChanges()}onSourceChange(n){n.play()}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(f.dP),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["improve-themes-list"]],decls:10,vars:4,consts:[[3,"list","searchKeys"],["title",""],["description",""],["item",""],["bottomContent",""],[3,"sources","sourceChange"],["player",""],[3,"item","askPlay"]],template:function(s,o){1&s&&(t.TgZ(0,"improve-list",0),t.ynx(1,1),t._uU(2,"Liste des sons"),t.BQk(),t.ynx(3,2),t._uU(4,"Voici une liste non-exhaustive de sons disponibles. D'autres seront ajout\xe9s. plus tard"),t.BQk(),t.YNc(5,k,1,1,"ng-template",null,3,t.W1O),t.ynx(7,4),t.TgZ(8,"improve-audio-player",5,6),t.NdJ("sourceChange",function(l){return o.onSourceChange(l)}),t.qZA(),t.BQk(),t.qZA()),2&s&&(t.Q6J("list",o.list)("searchKeys",t.DdM(3,A)),t.xp6(8),t.Q6J("sources",o.sources))},dependencies:[g.n,T,x],changeDetection:0})}return e})()}];let Q=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(P),u.Bz]})}return e})(),B=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[c.ez,m.m,Q,h]})}return e})()}}]);
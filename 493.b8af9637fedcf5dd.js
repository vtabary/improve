"use strict";(self.webpackChunkimprove=self.webpackChunkimprove||[]).push([[493],{5493:(w,v,i)=>{i.r(v),i.d(v,{SoundsModule:()=>l});var C=i(6895),x=i(8914),e=i(8256);class a{}a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[C.ez]});var _=i(9199),P=i(1562);class d{}d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["improve-themes-home"]],decls:7,vars:0,consts:[["title",""],["content",""],[1,"ui-card-container"],["routerLink","/sounds/list",1,"ui-card-link"]],template:function(t,o){1&t&&(e.TgZ(0,"improve-layout"),e.ynx(1,0),e._uU(2,"Sons"),e.BQk(),e.ynx(3,1),e.TgZ(4,"div",2)(5,"a",3),e._uU(6,"Liste compl\xe8te"),e.qZA()(),e.BQk(),e.qZA())},dependencies:[P.$,_.rH],changeDetection:0});var Z=i(2375),S=i(9050);function T(n,t,o,r,s,p,c){try{var g=n[p](c),m=g.value}catch(F){return void o(F)}g.done?t(m):Promise.resolve(m).then(r,s)}const A=["player"];function M(n,t){if(1&n&&e._UZ(0,"source",2),2&n){const o=t.$implicit;e.Q6J("src",o.url,e.LSH)("type",o.type)}}class y{constructor(){this.sources=[],this.sourceChange$=new e.vpe}get sourceChange(){return this.sourceChange$.asObservable()}ngOnChanges(t){!t.sources||this.sourceChange$.emit(this)}play(){var t=this;return function k(n){return function(){var t=this,o=arguments;return new Promise(function(r,s){var p=n.apply(t,o);function c(m){T(p,r,s,c,g,"next",m)}function g(m){T(p,r,s,c,g,"throw",m)}c(void 0)})}}(function*(){t.player?.nativeElement.load(),yield t.player?.nativeElement.play()})()}}function Q(n,t){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"span",1),e._uU(2),e.TgZ(3,"button",2),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.play$.emit())}),e._uU(4," Lire "),e.qZA()(),e.TgZ(5,"a",3),e._uU(6,"Source"),e.qZA(),e.BQk()}if(2&n){const o=e.oxw();e.xp6(2),e.hij("",o.item.label," "),e.xp6(3),e.Q6J("href",o.item.source,e.LSH)}}y.\u0275fac=function(t){return new(t||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["improve-audio-player"]],contentQueries:function(t,o,r){if(1&t&&e.Suo(r,A,5,e.SBq),2&t){let s;e.iGM(s=e.CRH())&&(o.player=s.first)}},inputs:{sources:"sources"},outputs:{sourceChange:"sourceChange"},features:[e.TTD],decls:4,vars:1,consts:[["controls","",1,"w-full"],[3,"src","type",4,"ngFor","ngForOf"],[3,"src","type"]],template:function(t,o){1&t&&(e.TgZ(0,"audio",0),e.YNc(1,M,1,2,"source",1),e.TgZ(2,"span"),e._uU(3,"Lecture impossible"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.sources))},dependencies:[C.sg]});class f{constructor(){this.item=null,this.play$=new e.vpe}get askPlay(){return this.play$.asObservable()}}function J(n,t){if(1&n){const o=e.EpF();e.TgZ(0,"improve-sounds-item",6),e.NdJ("askPlay",function(){const p=e.CHM(o).item,c=e.oxw();return e.KtG(c.onPlay(p))}),e.qZA()}2&n&&e.Q6J("item",t.item)}f.\u0275fac=function(t){return new(t||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["improve-sounds-item"]],inputs:{item:"item"},outputs:{askPlay:"askPlay"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"font-medium","block","p-2"],["type","button",1,"ui-link",3,"click"],["target","_blank",1,"text-gray-400","block",3,"href"]],template:function(t,o){1&t&&e.YNc(0,Q,7,2,"ng-container",0),2&t&&e.Q6J("ngIf",o.item)},dependencies:[C.O5],styles:["[_nghost-%COMP%]{display:contents}"]});const L=function(){return["label"]};class h{constructor(t,o){this.sounds=t,this.cdr=o,this.list=[],this.sources=[]}ngOnInit(){this.list=this.sounds.list()}onPlay(t){this.sources=[{url:t.url,type:"audio/mpeg"}],this.cdr.detectChanges()}onSourceChange(t){t.play()}}h.\u0275fac=function(t){return new(t||h)(e.Y36(Z.dP),e.Y36(e.sBO))},h.\u0275cmp=e.Xpm({type:h,selectors:[["improve-themes-list"]],decls:8,vars:4,consts:[[3,"list","searchKeys"],["title",""],["item",""],["bottomContent",""],[3,"sources","sourceChange"],["player",""],[3,"item","askPlay"]],template:function(t,o){1&t&&(e.TgZ(0,"improve-list",0),e.ynx(1,1),e._uU(2,"Liste des sons"),e.BQk(),e.YNc(3,J,1,1,"ng-template",null,2,e.W1O),e.ynx(5,3),e.TgZ(6,"improve-audio-player",4,5),e.NdJ("sourceChange",function(s){return o.onSourceChange(s)}),e.qZA(),e.BQk(),e.qZA()),2&t&&(e.Q6J("list",o.list)("searchKeys",e.DdM(3,L)),e.xp6(6),e.Q6J("sources",o.sources))},dependencies:[S.n,y,f],changeDetection:0});const B=[{path:"",component:d},{path:"list",component:h}];class u{}u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[_.Bz.forChild(B),_.Bz]});class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[C.ez,x.m,u,a]})}}]);
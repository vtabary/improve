"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[587],{6587:(J,p,i)=>{i.r(p),i.d(p,{SoundsModule:()=>S});var r=i(6814),m=i(3920),t=i(9212);let h=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[r.ez]})}return e})();var l=i(3356),d=i(1677);let y=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["improve-themes-home"]],decls:7,vars:0,consts:[["title",""],["content",""],[1,"ui-card-container"],["routerLink","/sounds/list",1,"ui-card-link"]],template:function(s,o){1&s&&(t.TgZ(0,"improve-layout"),t.ynx(1,0),t._uU(2,"Sons"),t.BQk(),t.ynx(3,1),t.TgZ(4,"div",2)(5,"a",3),t._uU(6,"Liste compl\xe8te"),t.qZA()(),t.BQk(),t.qZA())},dependencies:[d.$,l.rH],changeDetection:0})}return e})();var f=i(9995),g=i(6980),C=i(9671);const _=["player"];function v(e,a){if(1&e&&t._UZ(0,"source",2),2&e){const n=a.$implicit;t.Q6J("src",n.url,t.LSH)("type",n.type)}}let T=(()=>{class e{constructor(){this.sources=[],this.sourceChange$=new t.vpe}get sourceChange(){return this.sourceChange$.asObservable()}ngOnChanges(n){n.sources&&this.sourceChange$.emit(this)}play(){var n=this;return(0,C.Z)(function*(){n.player?.nativeElement.load(),yield n.player?.nativeElement.play()})()}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["improve-audio-player"]],contentQueries:function(s,o,u){if(1&s&&t.Suo(u,_,5,t.SBq),2&s){let c;t.iGM(c=t.CRH())&&(o.player=c.first)}},inputs:{sources:"sources"},outputs:{sourceChange:"sourceChange"},features:[t.TTD],decls:4,vars:1,consts:[["controls","",1,"w-full"],[3,"src","type",4,"ngFor","ngForOf"],[3,"src","type"]],template:function(s,o){1&s&&(t.TgZ(0,"audio",0),t.YNc(1,v,1,2,"source",1),t.TgZ(2,"span"),t._uU(3,"Lecture impossible"),t.qZA()()),2&s&&(t.xp6(),t.Q6J("ngForOf",o.sources))},dependencies:[r.sg]})}return e})();function Z(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"span",1),t._uU(2),t.TgZ(3,"button",2),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.play$.emit())}),t._uU(4," Lire "),t.qZA()(),t.TgZ(5,"a",3),t._uU(6,"Source"),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(2),t.hij("",n.item.label," "),t.xp6(3),t.Q6J("href",n.item.source,t.LSH)}}let x=(()=>{class e{constructor(){this.item=null,this.play$=new t.vpe}get askPlay(){return this.play$.asObservable()}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["improve-sounds-item"]],inputs:{item:"item"},outputs:{askPlay:"askPlay"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"font-medium","block","p-2"],["type","button",1,"ui-link",3,"click"],["target","_blank",1,"text-gray-400","block",3,"href"]],template:function(s,o){1&s&&t.YNc(0,Z,7,2,"ng-container",0),2&s&&t.Q6J("ngIf",o.item)},dependencies:[r.O5],styles:["[_nghost-%COMP%]{display:contents}"]})}return e})();function k(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"improve-sounds-item",6),t.NdJ("askPlay",function(){const u=t.CHM(n).item,c=t.oxw();return t.KtG(c.onPlay(u))}),t.qZA()}2&e&&t.Q6J("item",a.item)}const A=()=>["label"],P=[{path:"",component:y},{path:"list",component:(()=>{class e{constructor(n,s){this.sounds=n,this.cdr=s,this.list=[],this.sources=[]}ngOnInit(){this.list=this.sounds.list()}onPlay(n){this.sources=[{url:n.url,type:"audio/mpeg"}],this.cdr.detectChanges()}onSourceChange(n){n.play()}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(f.dP),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["improve-themes-list"]],decls:8,vars:4,consts:[[3,"list","searchKeys"],["title",""],["item",""],["bottomContent",""],[3,"sources","sourceChange"],["player",""],[3,"item","askPlay"]],template:function(s,o){1&s&&(t.TgZ(0,"improve-list",0),t.ynx(1,1),t._uU(2,"Liste des sons"),t.BQk(),t.YNc(3,k,1,1,"ng-template",null,2,t.W1O),t.ynx(5,3),t.TgZ(6,"improve-audio-player",4,5),t.NdJ("sourceChange",function(c){return o.onSourceChange(c)}),t.qZA(),t.BQk(),t.qZA()),2&s&&(t.Q6J("list",o.list)("searchKeys",t.DdM(3,A)),t.xp6(6),t.Q6J("sources",o.sources))},dependencies:[g.n,T,x],changeDetection:0})}return e})()}];let Q=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(P),l.Bz]})}return e})(),S=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[r.ez,m.m,Q,h]})}return e})()}}]);